# workmate-test-task

Task Manager ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ–π HTTP-—Å–µ—Ä–≤–∏—Å –Ω–∞ Go, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —Å–æ–∑–¥–∞–≤–∞—Ç—å, –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏ –æ—Ç–º–µ–Ω—è—Ç—å –¥–ª–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏ (3‚Äì5 –º–∏–Ω—É—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è). –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è **–≤ –ø–∞–º—è—Ç–∏**, –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –±–∞–∑ –∏–ª–∏ –æ—á–µ—Ä–µ–¥–µ–π.

–ü—Ä–æ–µ–∫—Ç –Ω–∞–ø–∏—Å–∞–Ω —Å —É—á—ë—Ç–æ–º –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã—Ö –ø—Ä–∞–∫—Ç–∏–∫ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏: –ª–æ–≥–∏–∫–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –ø–æ —Å–ª–æ—è–º, –µ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ —Ü–≤–µ—Ç–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é `slog`.

---

## üöÄ –ó–∞–ø—É—Å–∫

### ‚öôÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Go 1.21+
- –ü–æ—Ä—Ç `:8080` —Å–≤–æ–±–æ–¥–µ–Ω

### üîß –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
git clone https://github.com/yourname/task-manager
cd task-manager
go run cmd/main.go
```

–í–æ—Ç –≥–æ—Ç–æ–≤—ã–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏ –≤ —Ç–≤–æ–π `README.md`, –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—ã–π –≤ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–º Markdown:

---

## üåê API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### üîπ POST `/tasks`

–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞–¥–∞—á–∏:

```bash
curl -X POST http://localhost:8080/tasks
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "id": "3d1b6bc5-19d6-4e17-9c1e-7503f301f5d1",
  "status": "created",
  "created_at": "2025-06-25T12:00:00Z"
}
```

---

### üîπ GET `/tasks/{id}`

–ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏:

```bash
curl http://localhost:8080/tasks/3d1b6bc5-19d6-4e17-9c1e-7503f301f5d1
```

**–û—Ç–≤–µ—Ç:**

```json
{
  "id": "3d1b6bc5-19d6-4e17-9c1e-7503f301f5d1",
  "status": "running",
  "created_at": "2025-06-25T12:00:00Z",
  "started_at": "2025-06-25T12:00:01Z"
}
```

---

### üîπ GET `/tasks?status=running`

–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–¥–∞—á (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –ø–æ —Å—Ç–∞—Ç—É—Å—É):

```bash
curl http://localhost:8080/tasks
curl http://localhost:8080/tasks?status=running
```

–í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `status`:

* `created`
* `running`
* `done`
* `failed`

---

### üîπ DELETE `/tasks/{id}`

–£–¥–∞–ª–∏—Ç—å (–æ—Ç–º–µ–Ω–∏—Ç—å) –∑–∞–¥–∞—á—É:

```bash
curl -X DELETE http://localhost:8080/tasks/3d1b6bc5-19d6-4e17-9c1e-7503f301f5d1
```

**–û—Ç–≤–µ—Ç:**

* `204 No Content` ‚Äî —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–æ
* `404 Not Found` ‚Äî –∑–∞–¥–∞—á–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞

---

## üß† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
task-manager/
‚îú‚îÄ‚îÄ cmd/               # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (main.go)
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îî‚îÄ‚îÄ task/          # –ú–æ–¥–µ–ª—å, —Å–µ—Ä–≤–∏—Å, HTTP-—Ö–µ–Ω–¥–ª–µ—Ä—ã
‚îú‚îÄ‚îÄ pkg/
‚îÇ   ‚îî‚îÄ‚îÄ logger/        # –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ü–≤–µ—Ç–Ω–æ–π slog-–ª–æ–≥–≥–µ—Ä
‚îú‚îÄ‚îÄ go.mod / go.sum
‚îî‚îÄ‚îÄ README.md
```

---

## üì¶ –ó–∞–¥–∞—á–∏ (`Task`)

```json
{
  "id": "string",
  "status": "created | running | done | failed",
  "created_at": "timestamp",
  "started_at": "timestamp",
  "finished_at": "timestamp",
  "duration": "number of seconds",
  "result": "string"
}
```

---

## üé® –¶–≤–µ—Ç–Ω–æ–π –ª–æ–≥–≥–µ—Ä

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `log/slog` —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º `TextHandler`, –æ–∫—Ä–∞—à–∏–≤–∞—é—â–∏–º –ª–æ–≥–∏:

* üü¶ `INFO` ‚Äî —Å–∏–Ω–∏–π
* üü® `DEBUG` ‚Äî –∂—ë–ª—Ç—ã–π
* üü• `ERROR`, `WARN` ‚Äî –∫—Ä–∞—Å–Ω—ã–π
* üü© `SUCCESS` (–Ω–∞ –±–∞–∑–µ INFO + –∞—Ç—Ä–∏–±—É—Ç) ‚Äî –∑–µ–ª—ë–Ω—ã–π

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤:

```bash
go test ./internal/task -v
```

### –ü–æ–∫—Ä—ã—Ç–∏–µ:

* ‚úÖ `TaskService` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, –æ—Ç–º–µ–Ω–∞
* ‚úÖ HTTP-—Ö–µ–Ω–¥–ª–µ—Ä—ã (`POST`, `GET`, `DELETE`, `GET list`)
* ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Å—Ç–∞—Ç—É—Å–æ–≤

---

## üîê –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

* –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è **–≤ –ø–∞–º—è—Ç–∏** ‚Äî –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞ –æ—á–∏—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á.
* –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ `goroutine + context.WithCancel`.
* –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å **–æ—Ç–º–µ–Ω–∏—Ç—å –∑–∞–¥–∞—á—É –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**.
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ **—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Å—Ç–∞—Ç—É—Å—É** (`?status=...`).

---
